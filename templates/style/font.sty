<| block style_font |>
<| block style_font_main |>
\usepackage{fontspec}
\newfontfamily\sss{<< font >>}
\setmainfont[Ligatures=TeX]{<< font >>}

% Fonts can be downloaded from here:
% http://www.gust.org.pl/projects/e-foundry/latin-modern/index_html#download
% http://www.vlkk.lt/i/u/media/palemonas/Palemonas-2.1.zip
% After putting them into ~/.fonts directory, recreate cache:
% sudo fc-cache -f -v

<| endblock |>
<| block style_font_fixes|>
% Solution description:
% http://tex.stackexchange.com/questions/23049/font-substitution-with-xelatex
% Finding font that has a specific glyph:
% https://repolinux.wordpress.com/2013/03/10/find-out-fallback-font-used-by-fontconfig-for-a-certain-character/
% FC_DEBUG=4 pango-view -t '{character}' 2>&1 | \
%   grep -o 'family: "[^"]\+' | cut -c 10- | tail -n 1
% Example:
% FC_DEBUG=4 pango-view -t 'Ã¼' 2>&1 | \
%   grep -o 'family: "[^"]\+' | cut -c 10- | tail -n 1
% # Font is displayed only, when the window is closed with by pressing q.

\newfontfamily{\MissingSubstFont}{Latin Modern Roman}

\XeTeXinterchartokenstate=1
\newXeTeXintercharclass\MissingSubst

\XeTeXcharclass"2011=\MissingSubst

\XeTeXinterchartoks 0 \MissingSubst = {\begingroup\MissingSubstFont}
\XeTeXinterchartoks 255 \MissingSubst = {\begingroup\MissingSubstFont}
\XeTeXinterchartoks \MissingSubst 0 = {\endgroup}
\XeTeXinterchartoks \MissingSubst 255 = {\endgroup}
<| endblock |>
<| endblock |>
